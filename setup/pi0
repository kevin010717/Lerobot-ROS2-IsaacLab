# openpi-uv下openpi安装
conda create -n uv_envs python=3.10
conda activate uv_envs
pip install uv
git clone --recurse-submodules https://github.com/Physical-Intelligence/openpi.git
cd ~/openpi 
GIT_LFS_SKIP_SMUDGE=1 uv sync
source ./.venv/bin/activate # 激活uv的 Python 环境
# XLA_PYTHON_CLIENT_PREALLOCATE=false \
# uv run scripts/serve_policy.py --env LIBERO
uv run scripts/serve_policy.py --env LIBERO # 启动服务端监听
  
# venv-uv下安装libero 
cd ~/openpi
conda activate uv_envs
uv venv --python 3.8 examples/libero/.venv
source examples/libero/.venv/bin/activate
uv pip sync examples/libero/requirements.txt third_party/libero/requirements.txt --extra-index-url https://download.pytorch.org/whl/cu113 --index-strategy=unsafe-best-match
uv pip install -e packages/openpi-client
uv pip install -e third_party/libero

export PYTHONPATH=$PYTHONPATH:$PWD/third_party/libero
python -m libero
python examples/libero/main.py
